<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>Index</title>
	
		<link th:href="@{/css/style.css}" rel="stylesheet" />	
		<script th:src="@{/js/script.js}"> </script>
	</head>
	<body>
			<div class="bookreg">
				<h2>Book registration</h2>
			</div>
			<div class="secondrow">
				
				<div class="form">
					<form action="/index/register">
						
						<div class="fields" th:if="${resultDTO.getMessage() != null}">
							<h4 class="errorMessage" th:text="${resultDTO.getMessage()}"></h4>
						</div>
						<div class="fields">
							<h3>ISBN:<sup>*</sup></h3>
							<input type="text" id="isbn"  placeholder="9456879458145" name="isbn" />
						</div>
						<div class="fields">
							<h3>Title:<sup>*</sup></h3>
							<input type="text" name="title" />
						</div>
						<div class="fields">
							<h3>Publish Year:</h3>
							<input type="number" placeholder="2024" name="publishyear" />
						</div>
						<div class="fields">
							<h3>Pages:</h3>
							<input type="number" name="pages" />
						</div>
						<div class="fields">
							<h3>Language:</h3>
							<input type="text" placeholder="de" name="language" />
						</div>
						<div class="fields">
							<h3>Genre:</h3>
							<input type="text" name="genre" />
						</div>
						<br/>
						<div style="text-align: center;">
							<input id="submit" type="submit" value="Register" />
						</div>
					</form>
				</div>
	
			</div>
			<br/>
			<div class="table">
				<h2 class="h2regd"> Registered books </h2>
				
				<table class="sortingtable">
					<tr>
						<th class="sortingTh"> Sorting </th>
						<th class="sortingTh">
							<form action="/index">
								<input class="resetSorting" type="submit" value="Reset" />
							</form>
						</th>
					<tr>
					<tr class="sortingTableTr">
						<td class="sortingTableTd">
							<form action="/index/getPublishYears" method="get">
								<select onchange="this.form.submit()" name="publishYear">
									<option>Publish Year</option>
								    	<option  th:each = "publishYear : ${resultDTO.getPublishYears()}" th:value="${publishYear}" th:text="${publishYear}"></option>
								</select>
						
							</form>
							
						</td>
						<td class="sortingTableTd">
							<form class="secondForm" action="" method="post" >
								<select name="language">
									<option>Language</option>
								    <option>de</option>
								</select>
							</form>
						</td>
					</tr>
				</table>
				
				<table th:if="${resultDTO.isAllBooksResult() == true}">
					<tr>
						<th>ISBN Name</th>
						<th>Title</th>
						<th>Publish Year</th>
						<th>Pages</th>
						<th>Language</th>
						<th>Genre</th>
						<th>Compensation</th>
					</tr>
					<tr class="hoverTr" th:each="book : ${resultDTO.getBookListDTO().getBooks()}">
						<td th:text="${book.getIsbn()}"></td>
						<td th:text="${book.getTitle()}"></td>
						<td th:text="${book.getPublishYear()}"></td>
						<td th:text="${book.getPages()}"></td>
						<td th:text="${book.getLanguage()}"></td>
						<td th:text="${book.getGenre()}"></td>
						<td th:text="'â‚¬ '+${book.getCompensation()}" class = "compensation"></td>
					</tr>
				</table>
			</div>
	</body>
</html>